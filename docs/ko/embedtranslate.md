# 내장 번역

## 사용 방법

::: danger
먼저, 모든 게임이 내장을 지원하는 것은 아닙니다. 둘째, 내장 기능은 일정 확률로 게임 충돌을 유발할 수 있습니다.
:::

::: details 만약 선택한 텍스트에 내장 옵션이 없다면, 해당 게임은 내장을 지원하지 않는 것입니다. 
![img](https://image.lunatranslator.org/zh/embed/noembed.png) 
![img](https://image.lunatranslator.org/zh/embed/someembed.png) 
:::

내장을 지원하는 게임의 경우, 내장을 지원하는 텍스트 항목을 선택하고 내장 기능을 활성화하면 됩니다.

![img](https://image.lunatranslator.org/zh/embed/select.png)

내장을 지원하는 항목의 경우, **표시**와 **내장**은 동시에 활성화할지 여부를 자유롭게 선택할 수 있습니다. 동시에 활성화하면 게임 내에 번역이 내장되고 소프트웨어 창에 더 많은 번역이 표시됩니다. 내장만 활성화하면 게임 내에만 번역이 표시되고 소프트웨어 창에는 아무 내용도 표시되지 않습니다.

내장 번역을 시작한 후에는 종종 글자 깨짐 현상이 발생합니다. 게임 내 글자 깨짐은 일반적으로 **문자 집합**과 **글꼴** 두 가지 문제 때문입니다. 영어 게임의 경우 일반적으로 게임에 중국어 **글꼴**이 없어서 발생하며, 예를 들어:

![img](https://image.lunatranslator.org/zh/embed/luanma.png)

이 경우 **게임 글꼴 수정**을 활성화하고 적절한 글꼴을 선택하여 한자 문자를 표시해야 합니다.

![img](https://image.lunatranslator.org/zh/embed/ziti.png)

글꼴 수정이 완료되면 중국어가 정상적으로 표시됩니다:

![img](https://image.lunatranslator.org/zh/embed/okembed.png)

많은 오래된 일본 갈게임의 경우 자체 내장 shift-jis 문자 집합을 사용하여 중국어 문자를 올바르게 처리할 수 없습니다. **한자를 번체/일본식 한자로 변환**하여 글자 깨짐을 줄일 수 있습니다.

일부 최신 게임 엔진과 대부분의 영어 게임의 경우 일반적으로 utf-8 또는 utf-16과 같은 유니코드 문자 집합(예: **KiriKiri**, **Renpy**, **TyranoScript**, **RPGMakerMV** 등)을 사용합니다. 글자가 깨져 보이는 경우 대부분 문자 집합 문제가 아니라 글꼴 문제입니다.

![img](https://image.lunatranslator.org/zh/embed/fanti.png)

이 설정을 해제하면 간체 중국어가 정상적으로 표시됩니다. 그러나 간체 중국어가 정상적으로 표시되지 않는 일부 게임의 경우 이 옵션을 활성화하여 정상적으로 표시되는지 확인해 볼 수 있습니다.

![img](https://image.lunatranslator.org/zh/embed/good.png)

## 내장 번역 설정

1. #### 표시 모드

    ![img](https://image.lunatranslator.org/zh/embed/keeporigin.png)

    게임에서 표시할 수 있는 텍스트 줄 수의 제한으로 인해 기본적으로 번역과 원문 사이에 줄 바꿈을 추가하지 않습니다. 여유 공간이 확실한 경우 **번역 최적화**->**번역 결과 수정**에서 정규식을 추가하여 번역 앞에 줄 바꿈을 삽입할 수 있습니다.

    ![img](https://image.lunatranslator.org/zh/embed/addspace.png)

1. #### 번역 대기 시간

    내장 번역의 원리는 게임이 텍스트를 표시하기 전에 특정 함수에서 게임을 일시 중지하고 표시할 텍스트를 번역기에 전송한 후, 번역이 완료될 때까지 기다렸다가 번역된 텍스트로 메모리 내용을 수정하고 게임을 계속 실행하여 번역을 표시하는 것입니다. 따라서 **사용하는 번역 속도가 느린 경우 반드시 게임이 끊김 현상을 일으킬 수 있습니다**. 대기 시간을 제한하여 번역 속도가 너무 느려 장시간 끊김 현상이 발생하는 것을 방지할 수 있습니다.

1. #### 한자를 번체/일본식 한자로 변환

    생략

1. #### 줄당 글자 수 제한

    때로는 일부 게임에서 한 줄에 표시할 수 있는 문자 수가 제한되어 있어, 길이가 초과된 내용은 텍스트 박스 오른쪽 바깥으로 넘어가 표시되지 않을 수 있습니다. 이 설정을 통해 수동으로 줄바꿈을 하여 이러한 상황을 방지할 수 있습니다.

    ![img](https://image.lunatranslator.org/zh/embed/limitlength.png)

1. #### 게임 폰트 수정

    생략

1. #### 내장된 안전성 검사

    Renpy 등의 게임에서는 추출된 텍스트에 종종 `{` `}` `[` `]` 같은 문법 요소의 문자가 포함되는데, 번역 소스가 이러한 내용을 올바르게 처리하지 못해 문법이 깨지면 게임이 다운될 수 있습니다. 따라서 소프트웨어는 기본적으로 정규식 매칭을 통해 게임에 문제를 일으킬 수 있는 특정 문자 조합의 **번역을 건너뜁니다**. 게임 다운을 걱정하지 않는다면 이 설정을 해제하거나, 더 세밀한 정규식 매칭으로 불필요한 건너뜀을 줄일 수 있습니다.

    ![img](https://image.lunatranslator.org/zh/embed/safeskip.png)

1. #### 게임 내 표시 텍스트 지우기

    이 옵션을 활성화하면 게임 내에 내장 텍스트가 표시될 위치의 내용이 비워집니다.

    이 옵션은 다음과 같은 필요에 부합할 수 있습니다:

    1. 때로는 내장 번역에서 해결할 수 없는 문자 인코딩 및 폰트 표시 문제가 발생합니다. 이 옵션을 켠 후 소프트웨어 창을 원래 게임에서 텍스트가 표시되던 위치에 덮어쓰면 내장 번역처럼 보이게 할 수 있습니다.

    1. 때로는 내장 번역을 원하는 것이 아니라 외부 번역을 사용할 때, 창을 텍스트 영역에 놓으면 원본 텍스트와 겹치거나 다른 곳에 놓으면 화면이 가려질 수 있다고 느낄 수 있습니다.

    1. 때로는 우리가 단지 일본어를 배우기 원할 뿐인데, 게임 텍스트에 발음이 표기되지 않거나 이중 언어 대조 기능이 없는 경우가 있습니다.
